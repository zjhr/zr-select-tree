(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["zr-select-tree"]=t(require("vue")):e["zr-select-tree"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"1e15":function(e,t,n){},"33cc":function(e,t,n){"use strict";var r=n("1e15"),i=n.n(r);i.a},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(d){var e,t,n,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,o=r.exec(d.stack)||i.exec(d.stack),s=o&&o[1]||!1,l=o&&o[2]||!1,u=document.location.href.replace(document.location.hash,""),a=document.getElementsByTagName("script");s===u&&(e=document.documentElement.outerHTML,t=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=e.replace(t,"$1").trim());for(var c=0;c<a.length;c++){if("interactive"===a[c].readyState)return a[c];if(a[c].src===s)return a[c];if(s===u&&a[c].innerHTML&&a[c].innerHTML.trim()===n)return a[c]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{disabled:e.disabled,placement:"bottom-start"},on:{show:function(t){return e.$emit("show")},"after-enter":function(t){return e.$emit("after-enter")},hide:function(t){return e.$emit("hide")},"after-leave":function(t){return e.$emit("after-leave")}},model:{value:e.isShowSelect,callback:function(t){e.isShowSelect=t},expression:"isShowSelect"}},[n("el-input",{staticClass:"s_cpointer",style:e.inputStyle,attrs:{slot:"reference",size:e.csize,placeholder:e.placeholder,value:e.value,readonly:"readonly",disabled:e.disabled,"suffix-icon":"el-icon-arrow-down"},on:{click:function(t){e.isShowSelect=!e.isShowSelect},input:function(t){return e.$emit("input",e.value)}},slot:"reference"}),n("el-scrollbar",{style:{height:e.treeHeight},attrs:{wrapStyle:"overflow: auto;"}},[n("div",{staticStyle:{"padding-right":"25px"}},[n("el-tree",e._g(e._b({ref:"tree",attrs:{"node-key":e.nodeKey,data:e.data,"default-checked-keys":e.defaultCheckedKeys,"current-node-key":e.currentNodeKey,"highlight-current":e.radio,props:e.props},on:{"check-change":e.checkChangeFun,"current-change":e.currentChangeFun}},"el-tree",e.$attrs,!1),e.$listeners))],1)])],1)},l=[],u=n("8bbf"),a=n.n(u),c={name:"zr-select-tree",inheritAttrs:!1,props:{props:{type:Object,default(){return{}}},nodeKey:{type:String,default:"id"},data:{type:Array,default(){return[]}},value:String,inputStyle:String,defaultCheckedKeys:Array,size:{type:String,default:""},treeHeight:{type:String,default:"200px"},placeholder:{type:String,default:"请选择"},disabled:Boolean,currentNodeKey:[String,Number],radio:Boolean,radioP:Boolean},data(){return{inputval:"",defaultprops:{label:"label",children:"children",...this.props},isShowSelect:!1,oldId:this.currentNodeKey,oldData:{},multiples:[]}},computed:{csize(){return this.size||a.a.prototype.$ELEMENT?a.a.prototype.$ELEMENT.size:"medium"}},mounted(){this.$nextTick(()=>{this.loadMultiples()})},methods:{loadMultiples(){if(!this.radio&&this.defaultCheckedKeys.length&&this.data.length){const e=t=>{t.forEach(t=>{this.defaultCheckedKeys.includes(t[this.nodeKey])&&this.multiples.push(t),t.children&&t.children.length&&e(t.children)})};e(this.data);const t=[],n=[];this.multiples.forEach(e=>{t.push(e[this.nodeKey]),n.push(e[this.defaultprops.label])}),this.$emit("input",n.join(",")),this.$emit("checkedChange",this.multiples[0],this.multiples,t)}},checkChangeFun(e,t){if(this.radio)t?(this.oldData=e,this.$refs.tree.setCheckedNodes([e]),this.$emit("input",e[this.defaultprops.label]),this.isShowSelect=!1,this.$emit("checkedChange",e)):this.oldData[this.nodeKey]===e[this.nodeKey]&&(this.$emit("input",""),this.$emit("unCheckedChange",e));else{if(t)this.multiples.push(e);else{const t=this.multiples.findIndex(t=>t[this.nodeKey]===e[this.nodeKey]);this.multiples.splice(t,1)}const n=[],r=[];this.multiples.forEach(e=>{n.push(e[this.nodeKey]),r.push(e[this.defaultprops.label])}),this.$emit("input",r.join(",")),this.$emit(t?"checkedChange":"unCheckedChange",e,this.multiples,n)}},currentChangeFun(e,t){if(this.radioP||this.radio)return!this.radioP&&e[this.defaultprops.children]&&e[this.defaultprops.children].length?void this.$refs.tree.setCurrentKey(this.oldId||null):(this.oldId=e[this.nodeKey],this.isShowSelect=!1,this.$emit("input",e[this.defaultprops.label]),void this.$emit("currentChange",e,t));this.$emit("currentChange",e,t)},getNodeDataFun(){return this.radio?this.$refs.tree.getCurrentNode():this.$refs.tree.getCheckedNodes()}},watch:{data(){this.$nextTick(()=>{this.loadMultiples()})}}},d=c;n("33cc");function h(e,t,n,r,i,o,s,l){var u,a="function"===typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=n,a._compiled=!0),r&&(a.functional=!0),o&&(a._scopeId="data-v-"+o),s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},a._ssrRegister=u):i&&(u=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(a.functional){a._injectStyles=u;var c=a.render;a.render=function(e,t){return u.call(t),c(e,t)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:a}}var p=h(d,s,l,!1,null,"d574a9b4",null),f=p.exports;f.install=function(e){e.component(zrEditTable.name,f)};var m=f;const y=[m],g=function(e){g.installed||y.map(t=>e.component(t.name,t))};"undefined"!==typeof window&&window.Vue&&g(window.Vue);var b={install:g,zrSelectTree:m};t["default"]=b}})}));
//# sourceMappingURL=zr-select-tree.umd.min.js.map